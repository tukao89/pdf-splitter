<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Splitter</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container mt-3">
        <h1 class="text-center mb-4">PDF Splitter</h1>
        <!-- Step 1: Upload File -->
        <div id="step-1" class="step">
            <form id="upload-form" class="my-4">
                <div class="form-group">
                    <input type="file" id="pdf-file" class="form-control-file inputfile-2" accept="application/pdf">
                    <label for="pdf-file">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"></path></svg>
                        <span>Choose a PDF file…</span>
                    </label>
                </div>
                <button type="submit" class="btn btn-primary btn-lg d-none">Upload & Process PDF file</button>
            </form>
            <div id="loading-upload" class="text-center d-none">
                <div class="spinner-border" role="status">
                    <span class="sr-only">Uploading...</span>
                </div>
                <p>Uploading PDF...</p>
            </div>
        </div>
        <!-- Step 2: Preview & Setup Split Ranges -->
        <div id="step-2" class="step d-none">
            <div id="pdf-preview" class="d-flex flex-wrap justify-content-center mb-4"></div>
            <h2>Select Split Ranges <span id="range-count">(0)</span></h2>
            <div class="form-group">
                <label for="split-each">Split each</label>
                <div class="input-group w-auto">
                    <input type="number" id="split-each" class="form-control" value="1" min="1">
                    <button id="generate-ranges" class="btn btn-info">Generate Ranges</button>
                </div>
            </div>
            <div id="split-ranges" class="mb-4">
                <div class="range-input d-flex mb-2">
                    <div class="mr-2 range-name">1</div>
                    <div class="form-group mr-2">
                        <label>Start Page</label>
                        <input type="number" class="form-control start-page" min="1" value="1">
                    </div>
                    <div class="form-group mr-2">
                        <label>End Page</label>
                        <input type="number" class="form-control end-page" min="1">
                    </div>
                    <button type="button" class="btn btn-danger btn-remove-range">Remove</button>
                </div>
            </div>
            <div>
                <button id="add-range" class="btn btn-secondary mb-2">Add Range</button>
            </div>
            <div class="mt-3 text-center split-functions">
                <button id="split-pdf" class="btn btn-success btn-lg">Split PDF</button>
                <div id="loading-split" class="text-center d-none">
                    <div class="spinner-border" role="status">
                        <span class="sr-only">Splitting...</span>
                    </div>
                    <p>Splitting PDF...</p>
                </div>
            </div>
        </div>
        <!-- Step 3: Display Download Links -->
        <div id="step-3" class="step d-none">
            <h3>Done! You can download file now.</h3>
            <div id="download-links" class="mb-4"></div>
            <a id="download-all" class="btn btn-primary" target="_blank" href="/">Download All as ZIP</a>
            <button id="split-another" class="btn btn-secondary mt-5">Split Another File</button>
        </div>
    </div>
    <footer class="footer mt-5 py-4 bg-dark text-light">
        <div class="container">
            <h2 class="mb-1">PDF Splitter Tool</h2>
            <p class="mb-0">This tool allows you to split large PDF files into smaller, more manageable pieces. You can upload your PDF file, preview it, and set up ranges to split the file. This tool is particularly useful for students, professionals, and anyone who needs to handle large PDF documents.</p>
            <p class="mb-0">Use cases include splitting eBooks into chapters, dividing long reports into sections, or extracting specific pages from a PDF for presentations or assignments.</p>
            <p class="mb-0">Simply upload your PDF file, specify the page ranges you want to split, and download the resulting files. You can also download all split files as a single ZIP file for convenience.</p>
            <p class="mb-0"><b>Notice:</b> We commit not to use your data for any other purpose. Your files (original and split files) will be automatically deleted from our servers after 3 hours!</p>
            <p class="mb-0">We hope this tool makes managing your PDF files easier and more efficient!</p>
        </div>
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
